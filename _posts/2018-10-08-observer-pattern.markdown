---
layout: post
comments: true
title:  "자바스크립트와 옵저버 패턴(Observer Pattern)"
date:   2018-10-08
author: "J911"
categories: nodejs js
cover: "/assets/post-assets/2018-10-08-observer-pattern/cover.png"
---
옵저버 패턴을 공부하면서 간단하게 기록해보기로하였다.

## Observer?
옵저버(Observer)는 단어는 관찰자라고 해석된다. 옵저버 패턴에서도 비슷한 의미로 해석이 되는데 간단하게 설명을 할 수 있다.

옵저버 패턴은 "관찰자와 발행자 두 객체사이에 데이터를 동기화하는 패턴이다"라고 쉽게 이해를 할 수 있다.

그 방법에 대해 더 자세히(?) 알아보자.

## 옵저버 패턴의 간단한 절차
간단하게 pull방식의 옵저버 패턴 시나리오를 살펴보자.

1. 모든 관찰자는 발행자가 누구인지 알고있다. 동시에 발행자도 모든 관찰자를 기억하고있다.
2. 발행자는 새로운 데이터를 발행하고, 관찰자에게 변경에 대한 공지를 뿌린다.
3. 공지를 받은 관찰자는 발행자에게서 변경된 데이터를 받아온다.

이 패턴은 관찰자가 발행자로 부터 값을 끌어오는 Pull 방식이고,
반대로 2번에서 공지와 함께 값을 뿌려주는 Push 방식도 존재한다.

경우에 따라 Pull, Push를 고려해 개발해야하겠지만 일반적으로 관찰자가 필요한 데이터를 유동적으로 가져올 수 있는 Pull방식을 선호한다.

이제 위 내용을 코드로 작성하는 것으로 마무리하겠다.

{% gist J911/3122eea8c7c31d10414d8be815861316 %}

위 코드에서는 5초마다 난수를 발급하여 옵저버에게 공지하는 방식의 코드이다.